rar2fs - FUSE file system for reading RAR archives

DESCRIPTION

rar2fs is a FUSE based file system that can mount a source RAR archive/volume
or a directory containing any number of RAR archives and read the contents as
regular files on-the-fly. Non-archived files located in the source directory
are handled transparently.

Both compressed and non-compressed archives/volumes are supported but full
media seek support (aka. indexing) is only available for non-compressed
plaintext archives.

Security note: Encrypted archives require passwords stored in plaintext files.
If security is critical, consider using filesystem-level encryption (e.g., encfs)
in combination with rar2fs.


BUILDING

Standard build:

    autoreconf -f -i
    ./configure --with-unrar=<path-to-unrar-source>
    make
    make install

The UnRAR library source must be obtained separately:
https://www.rarlab.com/rar/unrarsrc-7.2.1.tar.gz

Automated build (downloads and builds UnRAR automatically):

    ./build-with-unrar.sh

Run './build-with-unrar.sh --help' for options.


QUICK START

Mount a RAR archive or directory:

    rar2fs [options] <source> <mountpoint>

Example:

    rar2fs /path/to/archives /mnt/rar

Unmount:

    fusermount -u /mnt/rar


ADVANCED FUSE CONFIGURATION

rar2fs v2.0.0+ supports fine-grained FUSE-level tuning for production optimization.

Quick Start: Recommended Production Configuration

For immutable RAR-compressed video archives on virtiofs:

    rar2fs \
        --iob-size=8 --hist-size=75 \
        --fuse-entry-timeout=3600 \
        --fuse-attr-timeout=3600 \
        /mnt/host/media /mnt/rar2fs

Expected Benefits (vs default configuration):
  - +24% directory operations (from --iob-size=8)
  - +10-20% metadata operations (from high FUSE timeouts)
  - +7-13% video seeking (FUSE3 lseek() optimization)

FUSE Option Categories:

1. Cache Timeouts (--fuse-entry-timeout, --fuse-attr-timeout, --fuse-negative-timeout)
   - Control how long metadata is cached
   - Default: 600s (10 minutes) for immutable archives
   - Recommendation: 3600s (1 hour) for maximum performance if archives never change

2. Buffer Sizes (--fuse-max-write, --fuse-max-readahead)
   - Control FUSE I/O buffer allocation
   - Default: 1MB write, 512KB readahead
   - Recommendation: Use defaults unless profiling shows bottlenecks

3. Throughput Tuning (--fuse-max-background, --fuse-congestion-threshold)
   - Control async I/O queue depth
   - Default: Kernel defaults (~12 max background)
   - Recommendation: Increase for high-concurrency workloads (e.g., 50-100)

4. Capability Toggles (--fuse-no-async-read, etc.)
   - Disable FUSE3 performance features for debugging
   - Default: All capabilities enabled
   - Recommendation: Never disable in production


DOCUMENTATION

For complete usage instructions and all available options:

    man rar2fs

Example configuration file:

    rarconfig.example


MORE INFORMATION

Project homepage: https://hasse69.github.io/rar2fs/
Author: Hans Beckerus <hans.beckerus#AT#gmail.com>

License: GPLv3+ - see COPYING for details
